# Terrafarm CSA Frontend Roadmap

## v2.x

### 2.0.1

- add "validate token" menu item on farm page
  - [ ] accessible to only farm owner
  - [ ] process token should only return positive if matches organization
  - [x] add route and container ValidateTokenForm
  - form container
    - queries: organization, current person, custom procedure `isValidToken`
    - input for token
    - input for status "Received", option for "Donated"
    - input for comments
    - save button changes Relay var token which is being passed into `isValidToken`
    - when Relay prop `isValidToken` is true, run a mutation to change to voucher status to whatever the form state was (defaults to "Received" with option for "Donated")

- [ ] Voucher
  - [ ] farm owner can change status to received or donated via token validation
  - [ ] get rid of credits_remaining
  - [ ] check save on edit for immediate update
  - [ ] possibly have a "planned_date" which would show up on share page list
  - [ ] add status "ready" so farmer has one more designation to choose from

  - [x] only show token to card holder
  - [x] shareholder and product owner can edit comments.
  - [x] shareholder can change status from planned or harvested to received or donated
  - [x] product owner can change status from planned to harvested or canceled

- [ ] Share
  - [ ] save on edit doesn't immediately update
  - [ ] create voucher doesn't immediately update share page voucher list

  - [x] if product owner, allow status planned, harvested
  - [x] if card holder, allow status planned, received, donated
  - [x] edit form: product owner can update status to mark as purchased
  - [x] assign punch card
  - [x] order punch card
  - [x] punch card page
  - [x] edit product works

- [ ] Product
  - [ ] assign share doesn't immediately update product page shareholder list

  - [x] order punch card uses status reserved
  - [x] share list item links to share if user is farm owner or "that" shareholder
  - [x] add product snapshot details to share in db
    - [x] ...share.name should be ...share.product_name
    - [x] add dates back to product since snapshots on shares is in place
  - [x] transfer start date, end date, price, product name, and product description to order share and assign share mutations
  - [x] content subheader detail added to product page

- [ ] big time cleanup for all the above new stuff
  - 'distribution' is a lot of letters to put in a url
  - contentsubheader prop 'emptyText' so not always just 'location not available'
  - move 'create' forms to the dir for the feature they create (CreateProduct in /product/containers)
  - wrap all material-ui components and clean up props
  - rename MainContentWrapper props left and right to be more descriptive
  - description multi-line text inputs can be wider
  - maybe use currentPerson on createOrg instead of user and id
  - formsy updateImmediately

### 2.0.2

- Stars
  - put to left of title
  - how to browse your own and see others?
    - [ ] star button next to title of page
- Browse
  - get rid of location field, user can use the map
  - full width search button (easier to click on)
  - submit on enter
  - formsy external issues on Github
  - on products, use farm location for map
- Form
  - error messages
  - number field for create/edit product
- Home
  - (fc) front cash for farmers
  - (wiki) catalog of useful things

- [ ] more big clean up
  - [ ] "not found" pattern on product, farm, user pages
  - fix circular dep for gulp load-schema and babel relay plugin
  - dev hot reload
  - add "location" to "new user" input
  - format date to periods instead of dash between numbers and emdash instead of "to" between dates
  - link as article header needs to be not full width
  - description icon: arrow right
  - assign-share payload should update product.card_holders
  - maybe use link icon like content-library on anchors
  - assign/order punch card consolidated into one form and mutation "create punch card"?

### 2.0.3

- refactor with tests
  - [x] create organization
  - [x] edit organization
  - [x] create product
  - [x] edit product
  - [x] order share
  - [x] assign share
  - [x] edit share
  - [x] create distribution
  - [ ] edit distribution

- simple css base for p, h1, h2, etc. to cut out significant portion of stylesheet compositions
  - or create simple components/elements that can take a custom class name and use the ones defined in a typography stylesheet
  - /shared/elements/typography/Paragraph.js .../Heading1.js .../Anchor.js
  - /shared/styles/typography/ParagraphStylesheet.css
  - /shared/styles/typography/IndexStylesheet.css
  - would need to accept text as children so other tags can be incorporated like `<strong>` for parts of a string

- how-to guides in content library pages or snippets

### 2.0.4

- [ ] Trades
