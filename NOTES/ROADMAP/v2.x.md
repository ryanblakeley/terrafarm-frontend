# Terrafarm CSA Frontend Roadmap

## v2.x

### 2.0.1

- [x] Validate Voucher links and forms appear in the proper place and work
- [x] Validate Share links and forms appear in the proper place and work

- Product page
  - add "go to my share" in the menu
  - add boolean field "double" or 2x to share
  - Reserve Share form title

- [x] reserve shares creates a token
- [x] show share token to farmer only
- [x] shareholder can validate token to activate share

- add "validate token" menu item on farm page
  - [x] Process Token changes distribution status
  - [ ] process token should only return positive if matches organization
  - [x] queries: organization, current person, custom procedure `isValidToken`
  - [x] input for token
  - [x] save button changes Relay var token which is being passed into `isValidToken`

- [x] Profile page
  - [x] add vouchers to relationship list
    - [x] links works
    - [ ] filter status, default PLANNED

- [ ] Voucher
  - [ ] farm owner can change status to received or donated via token validation
  - [ ] get rid of credits_remaining
  - [ ] check save on edit for immediate update
  - [ ] possibly have a "planned_date" which would show up on share page list
  - [ ] add status "ready" so farmer has one more designation to choose from

  - [x] only show token to card holder
  - [x] shareholder and product owner can edit comments.
  - [x] shareholder can change status from planned or harvested to received or donated
  - [x] product owner can change status from planned to harvested or canceled

- [ ] Share
  - [ ] save on edit doesn't immediately update
  - [ ] create voucher doesn't immediately update share page voucher list

  - [x] if product owner, allow status planned, harvested
  - [x] if card holder, allow status planned, received, donated
  - [x] edit form: product owner can update status to mark as purchased
  - [x] assign punch card
  - [x] order punch card
  - [x] punch card page
  - [x] edit product works

- [ ] Product
  - [ ] assign share doesn't immediately update product page shareholder list

  - [x] order punch card uses status reserved
  - [x] share list item links to share if user is farm owner or "that" shareholder
  - [x] add product snapshot details to share in db
    - [x] ...share.name should be ...share.product_name
    - [x] add dates back to product since snapshots on shares is in place
  - [x] transfer start date, end date, price, product name, and product description to order share and assign share mutations
  - [x] content subheader detail added to product page

- Components
  - RelationshipList pagination

- [x] comments and description icon: use speech bubble or speech ellipsis
- [x] dev data "Jim Small Voucher" -> "Jim Small CSA" and match to product
- [x] maybe reroute user === currentPerson to profile

### 2.0.2

- [ ] big time cleanup for all the above new stuff
  - 'distribution' is a lot of letters to put in a url
  - contentsubheader prop 'emptyText' so not always just 'location not available'
  - move 'create' forms to the dir for the feature they create (CreateProduct in /product/containers)
  - wrap all material-ui components and clean up props
  - rename MainContentWrapper props left and right to be more descriptive
  - description multi-line text inputs can be wider
  - maybe use currentPerson on createOrg instead of user and id
  - formsy updateImmediately
- [ ] location not provided shows up if no description is provided to product share container

### 2.0.3

- Stars
  - put to left of title
  - how to browse your own and see others?
    - [ ] star button next to title of page
- Browse
  - get rid of location field, user can use the map
  - full width search button (easier to click on)
  - submit on enter
  - formsy external issues on Github
  - on products, use farm location for map
- Form
  - error messages
  - number field for create/edit product
- Home
  - (fc) front cash for farmers
  - (wiki) catalog of useful things

### 2.0.4

- [ ] more big clean up
  - [ ] "not found" pattern on product, farm, user pages
  - fix circular dep for gulp load-schema and babel relay plugin
  - dev hot reload
  - add "location" to "new user" input
  - format date to periods instead of dash between numbers and emdash instead of "to" between dates
  - link as article header needs to be not full width
  - description icon: arrow right
  - assign-share payload should update product.card_holders
  - maybe use link icon like content-library on anchors
  - assign/order punch card consolidated into one form and mutation "create punch card"?
  - deleting a product
  - since internet connection may not be great at markets and on farms, be sure profile page has all needed voucher tokens and maybe have a pdf download of vouchers
  - notes for shares or vouchers could be additive (arrays) rather than single items that get updated
  - customer contact should be email or phone
  - auto-generate vouchers and remove "create voucher"
  - allow for "double" or "half shares"

### 2.0.5

- refactor with tests
  - [x] create organization
  - [x] edit organization
  - [x] create product
  - [x] edit product
  - [x] order share
  - [x] assign share
  - [x] edit share
  - [x] create distribution
  - [ ] edit distribution

- simple css base for p, h1, h2, etc. to cut out significant portion of stylesheet compositions
  - or create simple components/elements that can take a custom class name and use the ones defined in a typography stylesheet
  - /shared/elements/typography/Paragraph.js .../Heading1.js .../Anchor.js
  - /shared/styles/typography/ParagraphStylesheet.css
  - /shared/styles/typography/IndexStylesheet.css
  - would need to accept text as children so other tags can be incorporated like `<strong>` for parts of a string

- how-to guides in content library pages or snippets

### 2.0.6

- [ ] Trades
